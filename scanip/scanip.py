import requests
import folium
import sys

from pyfiglet import Figlet
from fake_useragent import UserAgent
from bs4 import BeautifulSoup as BS



ua = UserAgent()


def get_info_ip(ip='127.0.0.1'):

	wmsg = Figlet(font='slant')
	print(wmsg.renderText('SCANIP'))

	headers = {
	'User-Agent': ua.chrome
	}
	data = {
		'query': {ip},
		'submit': 'IP Lookup'
	}

	response = requests.post(url=f'https://www.iplocation.net/ip-lookup', headers=headers, data=data)

	soup = BS(response.text, 'html.parser')

	td = soup.findAll('td')
	th = soup.findAll('th')

	for x in range(15):
		print(f"{th[x].text}: {td[x].text}\n")	

	area = folium.Map(location=[td[6].text, td[7].text])
	area.save("result.html")


def main():
	if len(sys.argv) < 2:
		print("[!] - Enter target IP!")
	else:
		get_info_ip(ip=sys.argv[1])



if __name__ == '__main__':
	main()

